@using DAPTUGWEB.Models;
@model List<GioHang>
@{
    ViewBag.Title = "CapNhatGioHang";
    Layout = "~/Views/Layout/MainLayout.cshtml";
    var grid = new WebGrid(Model, canPage: true, defaultSort: "maSP", rowsPerPage: 3);
}

<style type="text/css">
    .grid-footer {
        color: #000;
        font: 17px Calibri;
        text-align: center;
        font-weight: bold;
    }

        .grid-footer a {
            background-color: #ffffff;
            color: blue;
            box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            padding: 1px 10px 2px 10px;
        }

            .grid-footer a:active, a:hover {
                background-color: #ffffff;
                color: #FFAD33;
                box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
            }

    .alternatingRowStyle {
        background-color: aliceblue;
    }

    table .table1 {
        text-align: left;
        margin-left: 0px;
        margin-right: 0px;
        width: 800px;
    }

    .tr, .td {
        text-align: center;
        padding-left: 40px;
    }

    #giohang {
        border-collapse: collapse;
        width: 100%;
    }

        #giohang tr {
        }

        #giohang td {
            border: 1px solid #000;
            padding: 8px;
            text-align: center;
            align-items: center;
        }

        #giohang img {
            width: 60px;
            height: 60px;
        }
        #giohang #tieude {
            text-transform: uppercase;
            font-weight: 600;
        }
</style>
<div class="container">

    <table align="center" border="1" id="giohang">
        <tr id="tieude">
            <td> Ảnh sản phẩm</td>

            <td> Mã sản phẩm </td>

            <td>Tên </td>

            <td>Số lượng</td>

            <td>Đơn giá</td>

            <td>Thành tiền</td>
            <td> </td>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td><img src="@Url.Content("~/Image/San_pham/" + item.anhSP)" /></td>

                <td>@item.maSP</td>

                <td>@item.tenSP</td>
                @using (Html.BeginForm("CapNhatGioHang", "GioHang", new { @maSP = item.maSP })) 
                {
                <td>@Html.TextBox("textSL", item.soLuong)</td>

                <td>@item.donGia</td>

                <td>@item.thanhTien</td>
                <td> <input type="submit" value="Cập nhật " />
                     <br />
                    @Html.ActionLink("Xoá","XoaGioHang", new {@maSP = item.maSP})
                </td>
                }
            </tr>
        }
    </table>
</div>
@*<div class="container">
        @grid.GetHtml(
                   tableStyle: "table table-bordered table-hover",
                   footerStyle: "grid-footer",
                   fillEmptyRows: true,
                   mode: WebGridPagerModes.Numeric,
                   alternatingRowStyle: "alternatingRowStyle",
                     columns: new[]  // colums in grid
                    {
                    grid.Column("STT",format: item => item.WebGrid.Rows.IndexOf(item) + 1 + Math.Round(Convert.ToDouble(grid.TotalRowCount / grid.PageCount) / grid.RowsPerPage) * grid.RowsPerPage * grid.PageIndex),

                         grid.Column("anhSP"," Ảnh sản phẩm"),
               grid.Column("maSP","Mã sản phẩm"), //the model fields to display
               grid.Column("tenSP","Tên sản phẩm"  ),
               grid.Column("soLuong","Số lượng"),
               grid.Column("donGia","Đơn giá"),
               grid.Column("thanhTien"," Thành tiền"),


        })

    </div>*@